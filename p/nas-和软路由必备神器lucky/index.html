<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="本文主要介绍了 Lucky 这一开源 Ruby Web 框架，它适用于 NAS 和软路由，可提供域名管理和反向代理服务。作者起初因认为公网 IPv6 裸奔相对安全，采用 IPv6 + 正向代理使用 NAS，但经同事提醒和实验发现数据传输存在安全隐患，遂对 NAS 进行改造，包括设置防火墙、关闭远程访问功能以及利用 Lucky 做反向代理。文章详细阐述了正向代理与反向代理的区别，对比了 Lucky 与 Nginx 在反向代理方面的应用，指出 Lucky 更为简单易用。接着介绍了 Lucky 的核心功能，如端口转发、动态域名、Web 服务及 ACME 自动证书等，并详细说明了部署 Lucky 的方法，包括 OpenWRT 编译安装和直接安装。在配置 Lucky 方面，详细讲解了动态域名功能、Web 服务功能中的反向代理配置以及 ACME 自动证书的申请过程。最后，提及了飞牛 OS 防火墙的配置，强调了通过域名和固定端口访问内网服务的安全性，同时分享了作者的防火墙配置经验。"><title>NAS 和软路由必备神器——Lucky</title>
<link rel=canonical href=https://hansyou.github.io/p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="NAS 和软路由必备神器——Lucky"><meta property='og:description' content="本文主要介绍了 Lucky 这一开源 Ruby Web 框架，它适用于 NAS 和软路由，可提供域名管理和反向代理服务。作者起初因认为公网 IPv6 裸奔相对安全，采用 IPv6 + 正向代理使用 NAS，但经同事提醒和实验发现数据传输存在安全隐患，遂对 NAS 进行改造，包括设置防火墙、关闭远程访问功能以及利用 Lucky 做反向代理。文章详细阐述了正向代理与反向代理的区别，对比了 Lucky 与 Nginx 在反向代理方面的应用，指出 Lucky 更为简单易用。接着介绍了 Lucky 的核心功能，如端口转发、动态域名、Web 服务及 ACME 自动证书等，并详细说明了部署 Lucky 的方法，包括 OpenWRT 编译安装和直接安装。在配置 Lucky 方面，详细讲解了动态域名功能、Web 服务功能中的反向代理配置以及 ACME 自动证书的申请过程。最后，提及了飞牛 OS 防火墙的配置，强调了通过域名和固定端口访问内网服务的安全性，同时分享了作者的防火墙配置经验。"><meta property='og:url' content='https://hansyou.github.io/p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/'><meta property='og:site_name' content='菘菓菌'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='技术'><meta property='article:published_time' content='2025-03-10T22:40:44+00:00'><meta property='article:modified_time' content='2025-03-10T22:40:44+00:00'><meta name=twitter:title content="NAS 和软路由必备神器——Lucky"><meta name=twitter:description content="本文主要介绍了 Lucky 这一开源 Ruby Web 框架，它适用于 NAS 和软路由，可提供域名管理和反向代理服务。作者起初因认为公网 IPv6 裸奔相对安全，采用 IPv6 + 正向代理使用 NAS，但经同事提醒和实验发现数据传输存在安全隐患，遂对 NAS 进行改造，包括设置防火墙、关闭远程访问功能以及利用 Lucky 做反向代理。文章详细阐述了正向代理与反向代理的区别，对比了 Lucky 与 Nginx 在反向代理方面的应用，指出 Lucky 更为简单易用。接着介绍了 Lucky 的核心功能，如端口转发、动态域名、Web 服务及 ACME 自动证书等，并详细说明了部署 Lucky 的方法，包括 OpenWRT 编译安装和直接安装。在配置 Lucky 方面，详细讲解了动态域名功能、Web 服务功能中的反向代理配置以及 ACME 自动证书的申请过程。最后，提及了飞牛 OS 防火墙的配置，强调了通过域名和固定端口访问内网服务的安全性，同时分享了作者的防火墙配置经验。"><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_598b466302713ded.png width=300 height=325 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🍥</span></figure><div class=site-meta><h1 class=site-name><a href=/>菘菓菌</a></h1><h2 class=site-description>热爱技术，热爱生活，梦想是像风般自由</h2></div></header><ol class=menu-social><li><a href=https://github.com/songguokunsgg target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://www.zhihu.com/people/yan-song-92-20 target=_blank title=知乎 rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>主页</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>归档</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>搜索</span></a></li><li><a href=/%E7%AE%80%E4%BB%8B/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>简介</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#正向代理与反向代理>正向代理与反向代理</a><ol><li><a href=#正向代理>正向代理</a></li><li><a href=#反向代理>反向代理</a></li><li><a href=#总结>总结</a></li></ol></li><li><a href=#lucky-与-nginx>Lucky 与 Nginx</a></li><li><a href=#部署-lucky>部署 Lucky</a><ol><li><a href=#openwrt-编译安装>OpenWRT 编译安装</a></li><li><a href=#直接安装>直接安装</a></li></ol></li><li><a href=#配置-lucky>配置 Lucky</a><ol><li><a href=#动态域名功能>动态域名功能</a></li><li><a href=#web-服务功能>Web 服务功能</a></li><li><a href=#acme-自动证书>ACME 自动证书</a></li></ol></li><li><a href=#飞牛-os-防火墙>飞牛 OS 防火墙</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/nas-%E7%BD%91%E7%BB%9C%E9%99%84%E5%B1%9E%E5%AD%98%E5%82%A8/>NAS 网络附属存储</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/>NAS 和软路由必备神器——Lucky</a></h2><h3 class=article-subtitle>本文主要介绍了 Lucky 这一开源 Ruby Web 框架，它适用于 NAS 和软路由，可提供域名管理和反向代理服务。作者起初因认为公网 IPv6 裸奔相对安全，采用 IPv6 + 正向代理使用 NAS，但经同事提醒和实验发现数据传输存在安全隐患，遂对 NAS 进行改造，包括设置防火墙、关闭远程访问功能以及利用 Lucky 做反向代理。文章详细阐述了正向代理与反向代理的区别，对比了 Lucky 与 Nginx 在反向代理方面的应用，指出 Lucky 更为简单易用。接着介绍了 Lucky 的核心功能，如端口转发、动态域名、Web 服务及 ACME 自动证书等，并详细说明了部署 Lucky 的方法，包括 OpenWRT 编译安装和直接安装。在配置 Lucky 方面，详细讲解了动态域名功能、Web 服务功能中的反向代理配置以及 ACME 自动证书的申请过程。最后，提及了飞牛 OS 防火墙的配置，强调了通过域名和固定端口访问内网服务的安全性，同时分享了作者的防火墙配置经验。</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Mar 10, 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 3 分钟</time></div></footer></div></header><section class=article-content><p>由于 IPv6 地址的充分性与广泛性，我一直认为公网 IPv6 裸奔是相对安全的，因此在之前一直使用的是 IPv6+ 正向代理的方式使用 NAS。前不久我一个同事买了台极空间，跟他进行了一些友好的交流——主要针对公网 IPv6 是否安全的问题进行了深入探讨。</p><p>我的观点是：IPv6 地址池那么庞大，并且是动态变换的，黑客要在这么庞大且不定的地址池中精准找到你的服务端口，并破解密码，根本就不可能。</p><p>但他否认了我这个观点：现在网络攻击根本就不是靠猜，它只需要进行网络劫持就能把你传输的数据拿到，HTTP 是明文传输，一旦被拿到，又没有进行 IP 拦截或者两步验证的话，你的 NAS 直接就肉鸡了。</p><p>后来我自己进行了一些简单的实验，发现确实数据，包括密码在内都是明文传输的，非常不安全。</p><p>然后我就对 NAS 进行了改造：</p><ol><li>将常用端口的防火墙设定为局域网 IP 段（10.0.0.1/24）</li><li>关闭飞牛的远程访问功能（这个其实没必要，主要是我用不上）</li><li>用在路由器上用 Lucky 做反向代理。</li></ol><h2 id=正向代理与反向代理>正向代理与反向代理</h2><h3 id=正向代理>正向代理</h3><p>想象一下，你在一个公司上班，公司网络对外是有限制的，比如不能直接访问某些外部网站。这时候，公司设置了一个“中间人”，我们叫它“正向代理服务器”。当你想访问外部网站时，你先把请求发给这个“中间人”，“中间人”再去访问外部网站，拿到内容后再转给你。这样做的好处是，外部网站看到的访问请求是来自“中间人”的，而不是你自己的电脑，这可以隐藏你的身份，同时也可以对访问进行一些控制，比如限制访问某些不安全的网站。</p><h3 id=反向代理>反向代理</h3><p>再想象一下，你有一个自己的小网站，但是你担心直接暴露服务器的 IP 地址会有安全风险，或者你希望提高网站的访问速度。这时候，你可以在你的服务器前面设置一个“中间人”，我们叫它“反向代理服务器”。当用户访问你的网站时，他们其实是先访问这个“中间人”，“中间人”再去你的服务器获取内容，然后把内容返回给用户。这样做的好处是，用户看到的网站地址是“中间人”的地址，而不是你的服务器地址，这可以隐藏你的服务器，同时“中间人”还可以缓存一些内容，加快用户访问的速度。</p><h3 id=总结>总结</h3><ul><li><strong>正向代理</strong>：主要是帮助客户端（比如你）去访问外部资源，隐藏客户端的身份。例如，通过 8063 端口访问 MT-Photos，通过 8096 端口访问 Jellyfin 等等，通常访问形式为 http://{ip}:{port}。</li><li><strong>反向代理</strong>：主要是帮助服务器（比如你的网站）对外提供服务，隐藏服务器的身份，同时可以优化性能。代表性的用法是，通过不同的域名访问某个反向代理服务器，反向代理服务器通过域名来返回不同的服务给用户。</li></ul><h2 id=lucky-与-nginx>Lucky 与 Nginx</h2><p>在过去，最常见的反向代理服务器是 Nginx，Nginx 可以在部署静态网站的同时兼做反向代理，而它的某个替代品 Uhttpd 则没有反向代理功能。</p><p>但使用 Nginx 进行反向代理，通常需要进行配置文件的编写，常见的形式如下：</p><div class="goat svg-container"><svg font-family="Menlo,Lucida Console,monospace" viewBox="0 0 672 201"><g transform="translate(8,16)"><text text-anchor="middle" x="0" y="4" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="0" y="180" fill="currentcolor" style="font-size:1em">}</text><text text-anchor="middle" x="8" y="4" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="16" y="4" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="24" y="4" fill="currentcolor" style="font-size:1em">v</text><text text-anchor="middle" x="32" y="4" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="32" y="20" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="32" y="36" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="32" y="68" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="32" y="164" fill="currentcolor" style="font-size:1em">}</text><text text-anchor="middle" x="40" y="4" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="40" y="20" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="40" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="40" y="68" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="48" y="20" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="48" y="36" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="48" y="68" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="56" y="4" fill="currentcolor" style="font-size:1em">{</text><text text-anchor="middle" x="56" y="20" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="56" y="36" fill="currentcolor" style="font-size:1em">v</text><text text-anchor="middle" x="56" y="68" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="64" y="20" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="64" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="64" y="68" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="64" y="84" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="64" y="100" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="64" y="116" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="64" y="132" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="64" y="148" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="72" y="20" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="72" y="36" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="72" y="68" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="72" y="84" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="72" y="100" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="72" y="116" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="72" y="132" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="72" y="148" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="80" y="36" fill="currentcolor" style="font-size:1em">_</text><text text-anchor="middle" x="80" y="68" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="80" y="84" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="80" y="100" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="80" y="116" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="80" y="132" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="80" y="148" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="88" y="20" fill="currentcolor" style="font-size:1em">8</text><text text-anchor="middle" x="88" y="36" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="88" y="68" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="88" y="84" fill="currentcolor" style="font-size:1em">x</text><text text-anchor="middle" x="88" y="100" fill="currentcolor" style="font-size:1em">x</text><text text-anchor="middle" x="88" y="116" fill="currentcolor" style="font-size:1em">x</text><text text-anchor="middle" x="88" y="132" fill="currentcolor" style="font-size:1em">x</text><text text-anchor="middle" x="88" y="148" fill="currentcolor" style="font-size:1em">x</text><text text-anchor="middle" x="96" y="20" fill="currentcolor" style="font-size:1em">0</text><text text-anchor="middle" x="96" y="36" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="96" y="84" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="96" y="100" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="96" y="116" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="96" y="132" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="96" y="148" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="104" y="20" fill="currentcolor" style="font-size:1em">;</text><text text-anchor="middle" x="104" y="36" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="104" y="68" fill="currentcolor" style="font-size:1em">/</text><text text-anchor="middle" x="104" y="84" fill="currentcolor" style="font-size:1em">_</text><text text-anchor="middle" x="104" y="100" fill="currentcolor" style="font-size:1em">_</text><text text-anchor="middle" x="104" y="116" fill="currentcolor" style="font-size:1em">_</text><text text-anchor="middle" x="104" y="132" fill="currentcolor" style="font-size:1em">_</text><text text-anchor="middle" x="104" y="148" fill="currentcolor" style="font-size:1em">_</text><text text-anchor="middle" x="112" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="112" y="84" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="112" y="100" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="112" y="116" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="112" y="132" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="112" y="148" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="120" y="68" fill="currentcolor" style="font-size:1em">{</text><text text-anchor="middle" x="120" y="84" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="120" y="100" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="120" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="120" y="132" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="120" y="148" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="128" y="20" fill="currentcolor" style="font-size:1em">#</text><text text-anchor="middle" x="128" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="128" y="84" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="128" y="100" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="128" y="116" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="128" y="132" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="128" y="148" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="136" y="36" fill="currentcolor" style="font-size:1em">x</text><text text-anchor="middle" x="136" y="84" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="136" y="100" fill="currentcolor" style="font-size:1em">_</text><text text-anchor="middle" x="136" y="116" fill="currentcolor" style="font-size:1em">_</text><text text-anchor="middle" x="136" y="132" fill="currentcolor" style="font-size:1em">_</text><text text-anchor="middle" x="136" y="148" fill="currentcolor" style="font-size:1em">_</text><text text-anchor="middle" x="144" y="20" fill="currentcolor" style="font-size:1em">监</text><text text-anchor="middle" x="144" y="36" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="144" y="100" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="144" y="116" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="144" y="132" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="144" y="148" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="152" y="20" fill="currentcolor" style="font-size:1em">听</text><text text-anchor="middle" x="152" y="36" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="152" y="84" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="152" y="100" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="152" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="152" y="132" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="152" y="148" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="160" y="20" fill="currentcolor" style="font-size:1em">外</text><text text-anchor="middle" x="160" y="36" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="160" y="84" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="160" y="100" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="160" y="116" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="160" y="132" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="160" y="148" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="168" y="20" fill="currentcolor" style="font-size:1em">部</text><text text-anchor="middle" x="168" y="36" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="168" y="84" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="168" y="100" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="168" y="116" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="168" y="132" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="168" y="148" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="176" y="20" fill="currentcolor" style="font-size:1em">请</text><text text-anchor="middle" x="176" y="36" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="176" y="84" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="176" y="100" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="176" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="176" y="132" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="176" y="148" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="184" y="20" fill="currentcolor" style="font-size:1em">求</text><text text-anchor="middle" x="184" y="36" fill="currentcolor" style="font-size:1em">.</text><text text-anchor="middle" x="184" y="84" fill="currentcolor" style="font-size:1em">:</text><text text-anchor="middle" x="184" y="100" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="184" y="116" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="184" y="132" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="184" y="148" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="192" y="20" fill="currentcolor" style="font-size:1em">的</text><text text-anchor="middle" x="192" y="36" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="192" y="84" fill="currentcolor" style="font-size:1em">/</text><text text-anchor="middle" x="200" y="20" fill="currentcolor" style="font-size:1em">端</text><text text-anchor="middle" x="200" y="36" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="200" y="84" fill="currentcolor" style="font-size:1em">/</text><text text-anchor="middle" x="200" y="100" fill="currentcolor" style="font-size:1em">H</text><text text-anchor="middle" x="200" y="116" fill="currentcolor" style="font-size:1em">X</text><text text-anchor="middle" x="200" y="132" fill="currentcolor" style="font-size:1em">X</text><text text-anchor="middle" x="200" y="148" fill="currentcolor" style="font-size:1em">X</text><text text-anchor="middle" x="208" y="20" fill="currentcolor" style="font-size:1em">口</text><text text-anchor="middle" x="208" y="36" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="208" y="84" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="208" y="100" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="208" y="116" fill="currentcolor" style="font-size:1em">-</text><text text-anchor="middle" x="208" y="132" fill="currentcolor" style="font-size:1em">-</text><text text-anchor="middle" x="208" y="148" fill="currentcolor" style="font-size:1em">-</text><text text-anchor="middle" x="216" y="36" fill="currentcolor" style="font-size:1em">;</text><text text-anchor="middle" x="216" y="84" fill="currentcolor" style="font-size:1em">9</text><text text-anchor="middle" x="216" y="100" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="216" y="116" fill="currentcolor" style="font-size:1em">R</text><text text-anchor="middle" x="216" y="132" fill="currentcolor" style="font-size:1em">F</text><text text-anchor="middle" x="216" y="148" fill="currentcolor" style="font-size:1em">F</text><text text-anchor="middle" x="224" y="84" fill="currentcolor" style="font-size:1em">2</text><text text-anchor="middle" x="224" y="100" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="224" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="224" y="132" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="224" y="148" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="232" y="84" fill="currentcolor" style="font-size:1em">.</text><text text-anchor="middle" x="232" y="116" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="232" y="132" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="232" y="148" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="240" y="36" fill="currentcolor" style="font-size:1em">#</text><text text-anchor="middle" x="240" y="84" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="240" y="100" fill="currentcolor" style="font-size:1em">$</text><text text-anchor="middle" x="240" y="116" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="240" y="132" fill="currentcolor" style="font-size:1em">w</text><text text-anchor="middle" x="240" y="148" fill="currentcolor" style="font-size:1em">w</text><text text-anchor="middle" x="248" y="84" fill="currentcolor" style="font-size:1em">6</text><text text-anchor="middle" x="248" y="100" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="248" y="116" fill="currentcolor" style="font-size:1em">-</text><text text-anchor="middle" x="248" y="132" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="248" y="148" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="256" y="36" fill="currentcolor" style="font-size:1em">你</text><text text-anchor="middle" x="256" y="84" fill="currentcolor" style="font-size:1em">8</text><text text-anchor="middle" x="256" y="100" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="256" y="116" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="256" y="132" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="256" y="148" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="264" y="36" fill="currentcolor" style="font-size:1em">的</text><text text-anchor="middle" x="264" y="84" fill="currentcolor" style="font-size:1em">.</text><text text-anchor="middle" x="264" y="100" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="264" y="116" fill="currentcolor" style="font-size:1em">P</text><text text-anchor="middle" x="264" y="132" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="264" y="148" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="272" y="36" fill="currentcolor" style="font-size:1em">域</text><text text-anchor="middle" x="272" y="84" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="272" y="100" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="272" y="132" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="272" y="148" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="280" y="36" fill="currentcolor" style="font-size:1em">名</text><text text-anchor="middle" x="280" y="84" fill="currentcolor" style="font-size:1em">.</text><text text-anchor="middle" x="280" y="100" fill="currentcolor" style="font-size:1em">;</text><text text-anchor="middle" x="280" y="116" fill="currentcolor" style="font-size:1em">$</text><text text-anchor="middle" x="280" y="132" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="280" y="148" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="288" y="84" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="288" y="116" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="288" y="132" fill="currentcolor" style="font-size:1em">-</text><text text-anchor="middle" x="288" y="148" fill="currentcolor" style="font-size:1em">-</text><text text-anchor="middle" x="296" y="84" fill="currentcolor" style="font-size:1em">0</text><text text-anchor="middle" x="296" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="296" y="132" fill="currentcolor" style="font-size:1em">F</text><text text-anchor="middle" x="296" y="148" fill="currentcolor" style="font-size:1em">P</text><text text-anchor="middle" x="304" y="84" fill="currentcolor" style="font-size:1em">0</text><text text-anchor="middle" x="304" y="100" fill="currentcolor" style="font-size:1em">#</text><text text-anchor="middle" x="304" y="116" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="304" y="132" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="304" y="148" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="312" y="84" fill="currentcolor" style="font-size:1em">:</text><text text-anchor="middle" x="312" y="116" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="312" y="132" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="312" y="148" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="320" y="84" fill="currentcolor" style="font-size:1em">8</text><text text-anchor="middle" x="320" y="100" fill="currentcolor" style="font-size:1em">传</text><text text-anchor="middle" x="320" y="116" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="320" y="148" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="328" y="84" fill="currentcolor" style="font-size:1em">0</text><text text-anchor="middle" x="328" y="100" fill="currentcolor" style="font-size:1em">递</text><text text-anchor="middle" x="328" y="116" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="328" y="132" fill="currentcolor" style="font-size:1em">$</text><text text-anchor="middle" x="328" y="148" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="336" y="84" fill="currentcolor" style="font-size:1em">8</text><text text-anchor="middle" x="336" y="100" fill="currentcolor" style="font-size:1em">原</text><text text-anchor="middle" x="336" y="116" fill="currentcolor" style="font-size:1em">_</text><text text-anchor="middle" x="336" y="132" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="344" y="84" fill="currentcolor" style="font-size:1em">0</text><text text-anchor="middle" x="344" y="100" fill="currentcolor" style="font-size:1em">始</text><text text-anchor="middle" x="344" y="116" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="344" y="132" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="344" y="148" fill="currentcolor" style="font-size:1em">$</text><text text-anchor="middle" x="352" y="84" fill="currentcolor" style="font-size:1em">;</text><text text-anchor="middle" x="352" y="100" fill="currentcolor" style="font-size:1em">请</text><text text-anchor="middle" x="352" y="116" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="352" y="132" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="352" y="148" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="360" y="100" fill="currentcolor" style="font-size:1em">求</text><text text-anchor="middle" x="360" y="116" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="360" y="132" fill="currentcolor" style="font-size:1em">x</text><text text-anchor="middle" x="360" y="148" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="368" y="100" fill="currentcolor" style="font-size:1em">的</text><text text-anchor="middle" x="368" y="116" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="368" y="132" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="368" y="148" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="376" y="84" fill="currentcolor" style="font-size:1em">#</text><text text-anchor="middle" x="376" y="116" fill="currentcolor" style="font-size:1em">;</text><text text-anchor="middle" x="376" y="132" fill="currentcolor" style="font-size:1em">_</text><text text-anchor="middle" x="376" y="148" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="384" y="100" fill="currentcolor" style="font-size:1em">H</text><text text-anchor="middle" x="384" y="132" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="384" y="148" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="392" y="84" fill="currentcolor" style="font-size:1em">后</text><text text-anchor="middle" x="392" y="100" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="392" y="132" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="392" y="148" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="400" y="84" fill="currentcolor" style="font-size:1em">端</text><text text-anchor="middle" x="400" y="100" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="400" y="116" fill="currentcolor" style="font-size:1em">#</text><text text-anchor="middle" x="400" y="132" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="400" y="148" fill="currentcolor" style="font-size:1em">;</text><text text-anchor="middle" x="408" y="84" fill="currentcolor" style="font-size:1em">服</text><text text-anchor="middle" x="408" y="100" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="408" y="132" fill="currentcolor" style="font-size:1em">_</text><text text-anchor="middle" x="416" y="84" fill="currentcolor" style="font-size:1em">务</text><text text-anchor="middle" x="416" y="116" fill="currentcolor" style="font-size:1em">传</text><text text-anchor="middle" x="416" y="132" fill="currentcolor" style="font-size:1em">x</text><text text-anchor="middle" x="424" y="84" fill="currentcolor" style="font-size:1em">的</text><text text-anchor="middle" x="424" y="100" fill="currentcolor" style="font-size:1em">头</text><text text-anchor="middle" x="424" y="116" fill="currentcolor" style="font-size:1em">递</text><text text-anchor="middle" x="424" y="132" fill="currentcolor" style="font-size:1em">_</text><text text-anchor="middle" x="424" y="148" fill="currentcolor" style="font-size:1em">#</text><text text-anchor="middle" x="432" y="84" fill="currentcolor" style="font-size:1em">地</text><text text-anchor="middle" x="432" y="116" fill="currentcolor" style="font-size:1em">客</text><text text-anchor="middle" x="432" y="132" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="440" y="84" fill="currentcolor" style="font-size:1em">址</text><text text-anchor="middle" x="440" y="116" fill="currentcolor" style="font-size:1em">户</text><text text-anchor="middle" x="440" y="132" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="440" y="148" fill="currentcolor" style="font-size:1em">传</text><text text-anchor="middle" x="448" y="116" fill="currentcolor" style="font-size:1em">端</text><text text-anchor="middle" x="448" y="132" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="448" y="148" fill="currentcolor" style="font-size:1em">递</text><text text-anchor="middle" x="456" y="116" fill="currentcolor" style="font-size:1em">的</text><text text-anchor="middle" x="456" y="132" fill="currentcolor" style="font-size:1em">w</text><text text-anchor="middle" x="456" y="148" fill="currentcolor" style="font-size:1em">原</text><text text-anchor="middle" x="464" y="116" fill="currentcolor" style="font-size:1em">真</text><text text-anchor="middle" x="464" y="132" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="464" y="148" fill="currentcolor" style="font-size:1em">始</text><text text-anchor="middle" x="472" y="116" fill="currentcolor" style="font-size:1em">实</text><text text-anchor="middle" x="472" y="132" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="472" y="148" fill="currentcolor" style="font-size:1em">请</text><text text-anchor="middle" x="480" y="132" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="480" y="148" fill="currentcolor" style="font-size:1em">求</text><text text-anchor="middle" x="488" y="116" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="488" y="132" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="488" y="148" fill="currentcolor" style="font-size:1em">的</text><text text-anchor="middle" x="496" y="116" fill="currentcolor" style="font-size:1em">P</text><text text-anchor="middle" x="496" y="132" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="496" y="148" fill="currentcolor" style="font-size:1em">协</text><text text-anchor="middle" x="504" y="132" fill="currentcolor" style="font-size:1em">_</text><text text-anchor="middle" x="504" y="148" fill="currentcolor" style="font-size:1em">议</text><text text-anchor="middle" x="512" y="132" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="520" y="132" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="528" y="132" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="536" y="132" fill="currentcolor" style="font-size:1em">;</text><text text-anchor="middle" x="560" y="132" fill="currentcolor" style="font-size:1em">#</text><text text-anchor="middle" x="576" y="132" fill="currentcolor" style="font-size:1em">传</text><text text-anchor="middle" x="584" y="132" fill="currentcolor" style="font-size:1em">递</text><text text-anchor="middle" x="592" y="132" fill="currentcolor" style="font-size:1em">客</text><text text-anchor="middle" x="600" y="132" fill="currentcolor" style="font-size:1em">户</text><text text-anchor="middle" x="608" y="132" fill="currentcolor" style="font-size:1em">端</text><text text-anchor="middle" x="616" y="132" fill="currentcolor" style="font-size:1em">的</text><text text-anchor="middle" x="624" y="132" fill="currentcolor" style="font-size:1em">真</text><text text-anchor="middle" x="632" y="132" fill="currentcolor" style="font-size:1em">实</text><text text-anchor="middle" x="648" y="132" fill="currentcolor" style="font-size:1em">I</text><text text-anchor="middle" x="656" y="132" fill="currentcolor" style="font-size:1em">P</text></g></svg></div><p>对于没接触过的人来说还是比较复杂的（其实熟悉了之后也没那么难，多尝试就好）。</p><p>而 Lucky 是一个开源的 Ruby Web 框架，它旨在提供一个简单、快速且高效的开发体验。Lucky 的设计灵感来源于其他流行的框架，如 Ruby on Rails，但它在某些方面进行了简化和优化，以减少样板代码，提高开发效率。</p><p>目前已经实现/集成的主要功能模块有</p><ol><li><strong>端口转发</strong></li><li><strong>动态域名 (DDNS)</strong></li><li><strong>Web 服务</strong></li><li>Stun 内网穿透</li><li>网络唤醒</li><li>计划任务</li><li><strong>ACME 自动证书</strong></li><li>网络存储</li></ol><p>标黑的 1、2、3、7 项是 Lucky 的核心功能。</p><p><img src=/p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/Lucky%E4%B8%BB%E9%A1%B5.png width=3835 height=1820 srcset="/p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/Lucky%E4%B8%BB%E9%A1%B5_hu_1f63e1451d5a6756.png 480w, /p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/Lucky%E4%B8%BB%E9%A1%B5_hu_dcdc98e220e7f5f8.png 1024w" loading=lazy alt="Lucky 主页" class=gallery-image data-flex-grow=210 data-flex-basis=505px></p><h2 id=部署-lucky>部署 Lucky</h2><p>Lucky 可以部署在内网的任何一台设备上，对于部署，我的建议如下：</p><p>尽可能优先部署在路由器上，路由器实在无法安装，例如没有 docker 功能，无法 ssh 的话，再考虑装在路由器下面的设备。</p><h3 id=openwrt-编译安装>OpenWRT 编译安装</h3><p>最推荐的安装方式，见 github：<a class=link href=https://github.com/sirpdboy/luci-app-lucky target=_blank rel=noopener>luci-app-lucky</a></p><p>这个包没有集成在 openWRT 和 immortalWRT 的官方仓库中，因此需要手动添加一下，很简单，就几行命令。</p><h3 id=直接安装>直接安装</h3><p><a class=link href=https://lucky666.cn/docs/install target=_blank rel=noopener>官网安装教程</a></p><p>建议尽量不要使用 docker，使用自动化安装最好，如果一定要用 docker 的话，务必要把网络设置为 bridge。</p><h2 id=配置-lucky>配置 Lucky</h2><h3 id=动态域名功能>动态域名功能</h3><p><img src=/p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/ddns%E5%8A%9F%E8%83%BD.png width=2566 height=366 srcset="/p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/ddns%E5%8A%9F%E8%83%BD_hu_9a8daaae587df07c.png 480w, /p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/ddns%E5%8A%9F%E8%83%BD_hu_eb9054b1bc6642d8.png 1024w" loading=lazy alt=动态域名功能 class=gallery-image data-flex-grow=701 data-flex-basis=1682px></p><p><img src=/p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/ddns%E5%8A%9F%E8%83%BD2.png width=1076 height=1726 srcset="/p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/ddns%E5%8A%9F%E8%83%BD2_hu_41593036f40baa30.png 480w, /p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/ddns%E5%8A%9F%E8%83%BD2_hu_f76a519235b0f291.png 1024w" loading=lazy alt=动态域名功能 class=gallery-image data-flex-grow=62 data-flex-basis=149px></p><p>主要关注红圈的地方，一项任务可以添加很多条动态域名记录。</p><p><img src=/p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/ddns%E5%8A%9F%E8%83%BD3.png width=2976 height=994 srcset="/p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/ddns%E5%8A%9F%E8%83%BD3_hu_44d932a72da1231c.png 480w, /p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/ddns%E5%8A%9F%E8%83%BD3_hu_144070a38b3273ee.png 1024w" loading=lazy alt="可以将多个域名解析到同一个 IP 地址" class=gallery-image data-flex-grow=299 data-flex-basis=718px></p><h3 id=web-服务功能>Web 服务功能</h3><p>在 Web 服务功能中，可以进行反向代理配置。</p><p><img src=/p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/Web%E6%9C%8D%E5%8A%A1%E5%8A%9F%E8%83%BD.png width=2836 height=1548 srcset="/p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/Web%E6%9C%8D%E5%8A%A1%E5%8A%9F%E8%83%BD_hu_e78d661337395b32.png 480w, /p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/Web%E6%9C%8D%E5%8A%A1%E5%8A%9F%E8%83%BD_hu_caefae32af274c8a.png 1024w" loading=lazy alt="反向代理与强制 https" class=gallery-image data-flex-grow=183 data-flex-basis=439px></p><p>这张图看着比较复杂，我们来拆解一下。</p><p>首先关注到“添加 Web 服务规则”，这个选项添加的是一个整体规则，相当于是一个规则的“模板”。</p><p><img src=/p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/%E6%B7%BB%E5%8A%A0Web%E6%9C%8D%E5%8A%A1%E8%A7%84%E5%88%99.png width=1192 height=1654 srcset="/p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/%E6%B7%BB%E5%8A%A0Web%E6%9C%8D%E5%8A%A1%E8%A7%84%E5%88%99_hu_4d716e223bd4812a.png 480w, /p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/%E6%B7%BB%E5%8A%A0Web%E6%9C%8D%E5%8A%A1%E8%A7%84%E5%88%99_hu_9d9593c6728d55de.png 1024w" loading=lazy alt="添加 Web 服务规则" class=gallery-image data-flex-grow=72 data-flex-basis=172px></p><p>在“子规则列表”中添加的子规则，才可以精准地把你想要的服务添加进去。</p><p><img src=/p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/%E6%B7%BB%E5%8A%A0%E5%AD%90%E8%A7%84%E5%88%99.png width=1134 height=1480 srcset="/p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/%E6%B7%BB%E5%8A%A0%E5%AD%90%E8%A7%84%E5%88%99_hu_b4d1c5c2be55cb08.png 480w, /p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/%E6%B7%BB%E5%8A%A0%E5%AD%90%E8%A7%84%E5%88%99_hu_ec668df11d77570.png 1024w" loading=lazy alt=添加子规则 class=gallery-image data-flex-grow=76 data-flex-basis=183px></p><p>在我的路由器上，我添加了两个服务：“反向代理 NAS 服务”以及“强制 https”。在“反向代理 NAS 服务”中，我将迅雷、qb 等等服务进行了反向代理，使得我可以使用 https 协议来访问 NAS 中的服务（NAS 中安装的迅雷等软件，不一定都直接支持开启 https，这种时候，要想安全访问，就只能通过反向代理服务来进行）。</p><p>通过 Lucky 可以更为简单的进行反向代理，不需要修改纯文本配置文件了。</p><p>那么强制 https 是什么呢？当我在网页上不加 http/https 访问网站 <code>qb.xxx.xx:port</code> 时，浏览器可以解析为 http 协议，这就导致我们无法访问该网站，必须手动添加 https:// 前缀才行，比较麻烦。</p><p>“强制 https”服务通过通配符 *.xxx.xx 将所有的 http 浏览重定向到了相应 https 的网站上，这样的话，无论浏览器中加不加 https，我们访问到的都是 https 网站。</p><p>当然别忘了还重要的时候，启用 https，还需要一个域名证书，Lucky 可以很方便地帮助我们申请证书。</p><h3 id=acme-自动证书>ACME 自动证书</h3><p><img src=/p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/ACME%E8%87%AA%E5%8A%A8%E8%AF%81%E4%B9%A6.png width=2580 height=1788 srcset="/p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/ACME%E8%87%AA%E5%8A%A8%E8%AF%81%E4%B9%A6_hu_f2d74842f93df7c6.png 480w, /p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/ACME%E8%87%AA%E5%8A%A8%E8%AF%81%E4%B9%A6_hu_866b0aa7d4ef4b73.png 1024w" loading=lazy alt="ACME 自动证书" class=gallery-image data-flex-grow=144 data-flex-basis=346px></p><p>这个功能比较简单，证书机构选择“Let&rsquo;s Encrypt”，其他选项就根据你的服务商进行选择即可。</p><p><img src=/p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/ACME%E8%AF%81%E4%B9%A6%E7%94%B3%E8%AF%B7%E5%AE%8C%E6%88%90.png width=2290 height=220 srcset="/p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/ACME%E8%AF%81%E4%B9%A6%E7%94%B3%E8%AF%B7%E5%AE%8C%E6%88%90_hu_99fb7418c348d1b8.png 480w, /p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/ACME%E8%AF%81%E4%B9%A6%E7%94%B3%E8%AF%B7%E5%AE%8C%E6%88%90_hu_143daa95f7c439a4.png 1024w" loading=lazy alt="ACME 证书申请完成" class=gallery-image data-flex-grow=1040 data-flex-basis=2498px></p><p>据说这个证书会自动续签，挺方便的。申请完成之后就可以通过 https 访问所有的 NAS 服务了。</p><h2 id=飞牛-os-防火墙>飞牛 OS 防火墙</h2><p>最后说一下防火墙，如果我们已经配置好了反向代理服务，那我们可以通过 <code>域名:固定端口</code>的方式来访问内网的服务了。注意，我们的端口只有一个，假设为 8888，那么我们只需要暴露 8888 在公网上就可以了，是不是非常安全。</p><p><img src=/p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/%E9%A3%9E%E7%89%9BNAS%E9%98%B2%E7%81%AB%E5%A2%99.png width=2264 height=1127 srcset="/p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/%E9%A3%9E%E7%89%9BNAS%E9%98%B2%E7%81%AB%E5%A2%99_hu_738a60f9cd889194.png 480w, /p/nas-%E5%92%8C%E8%BD%AF%E8%B7%AF%E7%94%B1%E5%BF%85%E5%A4%87%E7%A5%9E%E5%99%A8lucky/%E9%A3%9E%E7%89%9BNAS%E9%98%B2%E7%81%AB%E5%A2%99_hu_1550af7bbea19fde.png 1024w" loading=lazy alt="飞牛 NAS 防火墙" class=gallery-image data-flex-grow=200 data-flex-basis=482px></p><p>贴出来我的配置供大家参考。</p><p>首先，务必把入站规则的不符合规则改为“拒绝访问”，没有特别需求的话，就该这一项即可。</p><p>出于安全考虑，我还拒绝了所有的外网访问端口，仅允许我的内网网段 10.0.0.1/24访问，这样的话，外网直连无论如何也连不进我的设备。</p><p>不过我觉得一般用户也没必要做得这么过，只要在外网不使用 http 裸奔，还是比较安全的。</p><p>出站规则的话默认是全部放通，保持默认即可。</p></section><footer class=article-footer><section class=article-tags><a href=/tags/%E6%8A%80%E6%9C%AF/>技术</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/nas-%E4%B8%8A%E7%9B%B8%E5%AF%B9%E5%AE%89%E5%85%A8%E5%92%8C%E6%96%B9%E4%BE%BF%E7%9A%84-gitea-%E6%90%AD%E5%BB%BA%E6%96%B9%E6%B3%95/><div class=article-details><h2 class=article-title>NAS 上相对安全和方便的 Gitea 搭建方法</h2></div></a></article><article><a href=/p/%E7%94%A8%E5%BF%AB%E4%B9%90%E7%9A%84%E6%96%B9%E6%B3%95%E6%90%9E%E5%AE%9A%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81%E5%92%8C-ipv6-%E5%89%8D%E7%BC%80/><div class=article-details><h2 class=article-title>用快乐的方法搞定子网掩码和 IPv6 前缀</h2></div></a></article><article><a href=/p/%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E7%BE%A4%E6%99%96-nas-%E4%B8%AD%E5%BC%82%E5%B8%B8%E7%9A%84-jellygin-cpu-%E5%8D%A0%E7%94%A8/><div class=article-details><h2 class=article-title>如何解决群晖 NAS 中异常的 Jellygin CPU 占用</h2></div></a></article><article><a href=/p/%E9%BB%91%E7%BE%A4%E6%99%96-nas-%E5%9C%A8-openwrt-%E6%97%81%E8%B7%AF%E7%94%B1%E4%B8%AD%E5%90%AF%E7%94%A8-ipv6/><div class=article-details><h2 class=article-title>黑群晖 NAS —— 在 OpenWRT 旁路由中启用 IPv6</h2></div></a></article><article><a href=/p/%E9%BB%91%E7%BE%A4%E6%99%96-nas-two-in-one-%E4%BB%8E%E5%85%A5%E5%9D%91%E5%88%B0%E5%85%A5%E5%9C%9F%E6%BF%80%E8%BF%9B%E5%90%91%E6%95%99%E7%A8%8B-%E6%97%81%E8%B7%AF%E7%94%B1%E7%AF%87/><div class=article-details><h2 class=article-title>黑群晖 NAS Two in One 从入坑到入土——激进向教程 (旁路由篇)</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//hugo-theme-stack.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2025 菘菓菌</section><section class=powerby>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>